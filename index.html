<!DOCTYPE html>
<html>
  <head>
    <title></title><meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <style type='text/css'>
      body {
        font-family: 'Tahoma';
        letter-spacing:-2px;
        background:#fff;
        background-size:100%;
        color:#000;
        margin:0;
        padding:0;
        font-weight:bold;
      }

      h1, h2, h3, p {
        margin:0;
      }

      em, a {
        font-style:normal;
        color:#94d;
      }

      strong {
        font-style:normal;
        color:#0a9ec1;
      }

      code {
        font-style:normal;
        font-family: 'Tahoma';
        color:#d34;
      }

      a {
        background:#1b9e77;
        color:#fff;
        text-decoration:none;
      }

      img {
        width:100%;
      }

      div {
        cursor:pointer;
        cursor:hand;
        position:absolute;
        top:0;
        left:0;
      }
    </style>
    <script type='text/javascript'>
      window.onload = function() {
          var s = document.getElementsByTagName('div'), cur = 0;
          if (!s) return;
          function go(n) {
              cur = n;
              var i = 1e3, e = s[n];
              for (var k = 0; k < s.length; k++) s[k].style.display = 'none';
              e.style.display = 'inline';
              e.style.fontSize = i + 'px';
              if (e.firstChild.nodeName === 'IMG') {
                  document.body.style.backgroundImage = 'url(' + e.firstChild.src + ')';
                  e.firstChild.style.display = 'none';
              } else {
                  document.body.style.backgroundImage = '';
                  document.body.style.backgroundColor = e.style.backgroundColor;
              }
              while (
                  e.offsetWidth > window.innerWidth ||
                  e.offsetHeight > window.innerHeight) {
                  e.style.fontSize = (i -= 10) + 'px';
                  if (i < 0) break;
              }
              e.style.marginTop = ((window.innerHeight - e.offsetHeight) / 2) + 'px';
              if (window.location.hash !== n) window.location.hash = n;
              document.title = e.textContent || e.innerText;
          }
          document.onclick = function() {
              go(++cur % (s.length));
          };
          document.onkeydown = function(e) {
              (e.which === 39) && go(Math.min(s.length - 1, ++cur));
              (e.which === 37) && go(Math.max(0, --cur));
          };
          function parse_hash() {
              return Math.max(Math.min(
                  s.length - 1,
                  parseInt(window.location.hash.substring(1), 10)), 0);
          }
          if (window.location.hash) cur = parse_hash() || cur;
          window.onhashchange = function() {
              var c = parse_hash();
              if (c !== cur) go(c);
          };

          go(cur);
      };
    </script>
  </head>
  <body>
    <!-- introduction -->
    <div><a href="http://pdxmele.com/python-geodata-bffs">python + geographic data = BFFs</a><br/>Mele Sax-Barnett</div>
    <div><img src="http://www.fantom-xp.com/wallpapers/15/Cat_and_dog_friends.jpg"><em>why?</em><br/><br/></div>
    <div><img src="img/map1.png">I <code>&lt;3</code> maps, but making them can be a pain</div>
    <div>the <code>worst</code> part is</div>
    <div><img src="http://31.media.tumblr.com/tumblr_m4y26nYH2N1rwnp75o1_500.gif"><em>getting data to cooperate</em></div>
    <div><img src="img/formats.png">it is usually <code>not</code> in the <a href="http://www.gdal.org/ogr/ogr_formats.html">format</a> you need</div>
    <div><img src="https://pbs.twimg.com/profile_images/1340224844/Picture_11.png">has several <code>obvious errors</code></div>
    <div><img src="http://theplayunderground.com/images/Folder%20Stack.jpg">is split up into <code>50</code> different files</div>
    <div><img src="http://www.cartogrammar.com/images/azimuthal.jpg">is in a <code>completely different projection</code> than what you need</div>
    <div><img src="img/noideadog.jpg"><strong>AND</strong> has no <a href="https://www.fgdc.gov/metadata">metadata</a>, so you have <code>no idea</code> what you're even looking at</div>
    <div>you could point and click all day in GIS software, <em>or you could use python</em></div>

    <!-- conversion / fiona -->
    <div>convert and filter your data with <a href="https://pypi.python.org/pypi/Fiona">fiona</a></div>
    <div><strong>example:</strong><br/> converting <a href="http://www.naturalearthdata.com/">Natural Earth</a> shapefile data to GeoJSON</div>
    <div>1. download <a href="http://www.naturalearthdata.com/downloads/110m-cultural-vectors/">some data</a><br/>2. <img src="img/fionacode1.png"><br/>you can also <a href="http://toblerity.org/fiona/manual.html#filtering">filter by bounding box</a></div>
    <div><img src="img/fiona1.png">3. enjoy!<br/><br/><br/></div>
    <div>combine fiona with <a href="https://pypi.python.org/pypi/pyproj">pyproj</a> to change the projection</div>
    <div>1. <img src="img/proj1code.png"></div>
    <div>2. <img src="img/proj2code.png"></div>
    <div><img src="img/proj.png">3. enjoy!<br/><br/></div>
    <div><strong>another fiona example:</strong><br/> assembling a bunch of GPX tracks into a single GeoJSON file</div>
    <div>1. export all the GPX data from your favorite tracker<br/>2. <img src="img/fionacode2.png"></div>
    <div><img src="img/fiona2.png">3. enjoy!<br/><br/><br/><br/></div>

    <!-- GeoJSON diversion -->
    <div>before we go any further, let's talk about <a href="http://geojson.org/">GeoJSON</a>:</br></br>* JSON for geodata</br>* easy to use for web mapping</br>* easy to parse with Python</div>
    <div>all you need to do is <code>treat it like a dictionary</code></div>
    <div><strong>example:</strong><br/><a href="http://osm.org">OpenStreetMap</a> data to map-ready GeoJSON</div>
    <div>1. download some data</br><img src="img/osm_start.png"></div>
    <div>2. convert to GeoJSON with <a href="https://github.com/pdxmele/gwyw-osm/blob/master/converters.md">your tool of choice</a>, or you can parse the xml directly</div>
    <div>3. process</br><img src="img/geojsoncode1.png"><br/></div>
    <div>...<img src="img/geojsoncode2.png"></div>
    <div><img src="img/osm_done.png">4. <code>enjoy!</code></div>
    <div>repeat with csv/xml data too: just put it in a dictionary and  assemble valid GeoJSON with <em>only the features and attributes that you want</em>.<br/>if you have a lot of data, switch to <a href="...">reading and writing line-by-line</a>.</div>
    <div>because it's just a dictionary, you can also <code>create tests</code> for the data:<br/>* check for <strong>required keys</strong><br/>* check <em>the type</em> of each key's value<br/>* check <strong>the structure</strong><br/>* check for <em>valid geometry</em></div>
    <div>this is important if your system expects <br/>a very particular format, while your data comes from <code>a variety of sources</code><br/><img src="img/ua_ss.png"></div>

    <!-- geoprocessing/shapely -->
    <div>geoprocessing / spatial analysis: <br/><a href="https://pypi.python.org/pypi/Shapely">shapely</a></div>
    <div><a href="http://toblerity.org/shapely/manual.html">tons of examples in the manual</a>:<br/> validate, simplify, buffer, convex hull, merge, union, interpolate, create polygons from lines, get centroid, bounding box, area, or length, distance between two objects, check if they are equal or almost equal, get the difference or symmetrical difference, see if one contains the other, if they intersect, etc.</div>
    <div><strong>example:</strong><br/> include only the GPX tracks that are in portland</div>
    <div>1. get portland as geojson<br/>2. <img src="img/shapelycode.png"></div>
    <div><img src="img/shapelyresult.png"><br/><br/>3. enjoy!</div>
    <div>another option for geoprocessing without GIS software: <a href="http://postgis.net/">postgis</a><br/>talk to it with <a href="https://pypi.python.org/pypi/psycopg2/">psycopg</a> or your python postgresql tool of choice</div>

    <!-- wrap it up -->
    <div>finally, GIS software <code>&lt;3</code>s python</div>
    <div><a href="http://resources.arcgis.com/en/communities/python/">ArcGIS</a><br/><img src="img/arcgis.png"><br/><a href="http://arcpy.wordpress.com/">arcpy</a> scripting and <a href="http://resources.arcgis.com/en/help/main/10.1/index.html#//014p00000025000000">add-ins</a></div>
    <div><a href="http://www.qgis.org/en/docs/pyqgis_developer_cookbook/intro.html">QGIS</a><br/><img src="img/qgis.png"><br/>console, module, <a href="https://plugins.qgis.org/">plugins</a>, and dev</div>
    <div><img src="img/qgisplugins1.png"></div>
    <div><img src="img/qgisplugins2.png"></div>
    <div><em>thank you!</em><br/><br/>questions? <a href="https://twitter.com/pdxmele">@pdxmele</a> or file an issue <a href="https://github.com/pdxmele/python-geodata-bffs">here</a></br>more resources <a href="https://github.com/pdxmele/python-geodata-bffs/blob/master/resources.md">here</a><br/>
  </body>
</html>